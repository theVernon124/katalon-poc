'use strict';

var _defineProperty = require('babel-runtime/helpers/define-property')['default'];

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

var _libBasedriverHelpers = require('../../lib/basedriver/helpers');

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _sinon = require('sinon');

var _sinon2 = _interopRequireDefault(_sinon);

var _appiumSupport = require('appium-support');

var _mockFs = require('mock-fs');

var _mockFs2 = _interopRequireDefault(_mockFs);

_chai2['default'].use(_chaiAsPromised2['default']);
var should = _chai2['default'].should();

describe('helpers', function () {
  describe('#isPackageOrBundle', function () {
    it('should accept packages and bundles', function () {
      (0, _libBasedriverHelpers.isPackageOrBundle)('io.appium.testapp').should.be['true'];
    });
    it('should not accept non-packages or non-bundles', function () {
      (0, _libBasedriverHelpers.isPackageOrBundle)('foo').should.be['false'];
      (0, _libBasedriverHelpers.isPackageOrBundle)('/path/to/an.app').should.be['false'];
      (0, _libBasedriverHelpers.isPackageOrBundle)('/path/to/an.apk').should.be['false'];
    });
  });

  describe('#unzipFile', function () {
    var mockDir = 'path/to/mock/dir';
    before(function callee$2$0() {
      var fakeIOSAppZip;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            // Start mock filesystem
            (0, _mockFs2['default'])(_defineProperty({}, mockDir, {}));

            // Write the base64 contents of FakeIOSApp.app.zip to the mock filesystem

            fakeIOSAppZip = 'UEsDBBQACAAIABF8/EYAAAAAAAAAAAAAAAAOABAARmFrZUlPU0FwcC5hcHBVWAwALwO4VQIDuFX1ARQAK8nILFYAorz8EoWi1MScnEqFxDyFxIICLgBQSwcIR93jPhoAAAAaAAAAUEsBAhUDFAAIAAgAEXz8Rkfd4z4aAAAAGgAAAA4ADAAAAAAAAAAAQKSBAAAAAEZha2VJT1NBcHAuYXBwVVgIAC8DuFUCA7hVUEsFBgAAAAABAAEASAAAAGYAAAAAAA==';
            context$3$0.next = 4;
            return _regeneratorRuntime.awrap(_appiumSupport.fs.writeFile(_path2['default'].resolve(mockDir, 'FakeIOSApp.app.zip'), fakeIOSAppZip, 'base64'));

          case 4:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });

    after(function () {
      _mockFs2['default'].restore();
    });

    it('should unzip a .zip file (force isWindows to be true so we can test the internal zip library)', function callee$2$0() {
      var forceWindows;
      return _regeneratorRuntime.async(function callee$2$0$(context$3$0) {
        while (1) switch (context$3$0.prev = context$3$0.next) {
          case 0:
            forceWindows = _sinon2['default'].stub(_appiumSupport.system, 'isWindows').returns(true);
            context$3$0.next = 3;
            return _regeneratorRuntime.awrap((0, _libBasedriverHelpers.unzipFile)(_path2['default'].resolve(mockDir, 'FakeIOSApp.app.zip')));

          case 3:
            context$3$0.next = 5;
            return _regeneratorRuntime.awrap(_appiumSupport.fs.readFile(_path2['default'].resolve(mockDir, 'FakeIOSApp.app'), 'utf8').should.eventually.deep.equal('this is not really an app\n'));

          case 5:
            forceWindows.restore();

          case 6:
          case 'end':
            return context$3$0.stop();
        }
      }, null, this);
    });
  });

  describe('#renameKey', function () {
    it('should translate key in an object', function () {
      (0, _libBasedriverHelpers.renameKey)({ 'foo': 'hello world' }, 'foo', 'bar').should.eql({ 'bar': 'hello world' });
    });
    it('should translate key in an object within an object', function () {
      (0, _libBasedriverHelpers.renameKey)({ 'key': { 'foo': 'hello world' } }, 'foo', 'bar').should.eql({ 'key': { 'bar': 'hello world' } });
    });
    it('should translate key in an object with an array', function () {
      (0, _libBasedriverHelpers.renameKey)([{ 'key': { 'foo': 'hello world' } }, { 'foo': 'HELLO WORLD' }], 'foo', 'bar').should.eql([{ 'key': { 'bar': 'hello world' } }, { 'bar': 'HELLO WORLD' }]);
    });
    it('should not do anything to primitives', function () {
      [0, 1, -1, true, false, null, undefined, "", "Hello World"].forEach(function (item) {
        should.equal((0, _libBasedriverHelpers.renameKey)(item), item);
      });
    });
    it('should rename keys on big complex objects', function () {
      var input = [{ 'foo': 'bar' }, {
        hello: {
          world: {
            'foo': 'BAR'
          }
        },
        foo: 'bahr'
      }, 'foo', null, 0];
      var expectedOutput = [{ 'FOO': 'bar' }, {
        hello: {
          world: {
            'FOO': 'BAR'
          }
        },
        FOO: 'bahr'
      }, 'foo', null, 0];
      (0, _libBasedriverHelpers.renameKey)(input, 'foo', 'FOO').should.deep.equal(expectedOutput);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvYmFzZWRyaXZlci9oZWxwZXJzLXNwZWNzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O29DQUF3RCw4QkFBOEI7O29CQUNyRSxNQUFNOzs7OzhCQUNJLGtCQUFrQjs7OztvQkFDNUIsTUFBTTs7OztxQkFDTCxPQUFPOzs7OzZCQUNFLGdCQUFnQjs7c0JBQ3hCLFNBQVM7Ozs7QUFFNUIsa0JBQUssR0FBRyw2QkFBZ0IsQ0FBQztBQUN6QixJQUFNLE1BQU0sR0FBRyxrQkFBSyxNQUFNLEVBQUUsQ0FBQzs7QUFFN0IsUUFBUSxDQUFDLFNBQVMsRUFBRSxZQUFZO0FBQzlCLFVBQVEsQ0FBQyxvQkFBb0IsRUFBRSxZQUFZO0FBQ3pDLE1BQUUsQ0FBQyxvQ0FBb0MsRUFBRSxZQUFZO0FBQ25ELG1EQUFrQixtQkFBbUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLFFBQUssQ0FBQztLQUN2RCxDQUFDLENBQUM7QUFDSCxNQUFFLENBQUMsK0NBQStDLEVBQUUsWUFBWTtBQUM5RCxtREFBa0IsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsU0FBTSxDQUFDO0FBQ3pDLG1EQUFrQixpQkFBaUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLFNBQU0sQ0FBQztBQUNyRCxtREFBa0IsaUJBQWlCLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxTQUFNLENBQUM7S0FDdEQsQ0FBQyxDQUFDO0dBQ0osQ0FBQyxDQUFDOztBQUVILFVBQVEsQ0FBQyxZQUFZLEVBQUUsWUFBWTtBQUNqQyxRQUFJLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQztBQUNqQyxVQUFNLENBQUM7VUFRQyxhQUFhOzs7OztBQU5uQix5REFDRyxPQUFPLEVBQUcsRUFBRSxFQUNiLENBQUM7Ozs7QUFJRyx5QkFBYSxHQUFHLDBRQUEwUTs7NkNBQzFSLGtCQUFHLFNBQVMsQ0FBQyxrQkFBSyxPQUFPLENBQUMsT0FBTyxFQUFFLG9CQUFvQixDQUFDLEVBQUUsYUFBYSxFQUFFLFFBQVEs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Q0wsSUFBSSxFQUNKLENBQUMsQ0FDRixDQUFDO0FBQ0YsMkNBQVUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQztLQUNsRSxDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoidGVzdC9iYXNlZHJpdmVyL2hlbHBlcnMtc3BlY3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1BhY2thZ2VPckJ1bmRsZSwgdW56aXBGaWxlLCByZW5hbWVLZXkgfSBmcm9tICcuLi8uLi9saWIvYmFzZWRyaXZlci9oZWxwZXJzJztcbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2lub24gZnJvbSAnc2lub24nO1xuaW1wb3J0IHsgc3lzdGVtLCBmcyB9IGZyb20gJ2FwcGl1bS1zdXBwb3J0JztcbmltcG9ydCBtb2NrRlMgZnJvbSAnbW9jay1mcyc7XG5cbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcbmNvbnN0IHNob3VsZCA9IGNoYWkuc2hvdWxkKCk7XG5cbmRlc2NyaWJlKCdoZWxwZXJzJywgZnVuY3Rpb24gKCkge1xuICBkZXNjcmliZSgnI2lzUGFja2FnZU9yQnVuZGxlJywgZnVuY3Rpb24gKCkge1xuICAgIGl0KCdzaG91bGQgYWNjZXB0IHBhY2thZ2VzIGFuZCBidW5kbGVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgaXNQYWNrYWdlT3JCdW5kbGUoJ2lvLmFwcGl1bS50ZXN0YXBwJykuc2hvdWxkLmJlLnRydWU7XG4gICAgfSk7XG4gICAgaXQoJ3Nob3VsZCBub3QgYWNjZXB0IG5vbi1wYWNrYWdlcyBvciBub24tYnVuZGxlcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzUGFja2FnZU9yQnVuZGxlKCdmb28nKS5zaG91bGQuYmUuZmFsc2U7XG4gICAgICBpc1BhY2thZ2VPckJ1bmRsZSgnL3BhdGgvdG8vYW4uYXBwJykuc2hvdWxkLmJlLmZhbHNlO1xuICAgICAgaXNQYWNrYWdlT3JCdW5kbGUoJy9wYXRoL3RvL2FuLmFwaycpLnNob3VsZC5iZS5mYWxzZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJyN1bnppcEZpbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG1vY2tEaXIgPSAncGF0aC90by9tb2NrL2Rpcic7XG4gICAgYmVmb3JlKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFN0YXJ0IG1vY2sgZmlsZXN5c3RlbVxuICAgICAgbW9ja0ZTKHtcbiAgICAgICAgW21vY2tEaXJdOiB7fSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBXcml0ZSB0aGUgYmFzZTY0IGNvbnRlbnRzIG9mIEZha2VJT1NBcHAuYXBwLnppcCB0byB0aGUgbW9jayBmaWxlc3lzdGVtXG5cbiAgICAgIGNvbnN0IGZha2VJT1NBcHBaaXAgPSAnVUVzREJCUUFDQUFJQUJGOC9FWUFBQUFBQUFBQUFBQUFBQUFPQUJBQVJtRnJaVWxQVTBGd2NDNWhjSEJWV0F3QUx3TzRWUUlEdUZYMUFSUUFLOG5JTEZZQW9yejhFb1dpMU1TY25FcUZ4RHlGeElJQ0xnQlFTd2NJUjkzalBob0FBQUFhQUFBQVVFc0JBaFVERkFBSUFBZ0FFWHo4UmtmZDR6NGFBQUFBR2dBQUFBNEFEQUFBQUFBQUFBQUFRS1NCQUFBQUFFWmhhMlZKVDFOQmNIQXVZWEJ3VlZnSUFDOER1RlVDQTdoVlVFc0ZCZ0FBQUFBQkFBRUFTQUFBQUdZQUFBQUFBQT09JztcbiAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShwYXRoLnJlc29sdmUobW9ja0RpciwgJ0Zha2VJT1NBcHAuYXBwLnppcCcpLCBmYWtlSU9TQXBwWmlwLCAnYmFzZTY0Jyk7XG4gICAgfSk7XG5cbiAgICBhZnRlcihmdW5jdGlvbiAoKSB7XG4gICAgICBtb2NrRlMucmVzdG9yZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1bnppcCBhIC56aXAgZmlsZSAoZm9yY2UgaXNXaW5kb3dzIHRvIGJlIHRydWUgc28gd2UgY2FuIHRlc3QgdGhlIGludGVybmFsIHppcCBsaWJyYXJ5KScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGZvcmNlV2luZG93cyA9IHNpbm9uLnN0dWIoc3lzdGVtLCAnaXNXaW5kb3dzJykucmV0dXJucyh0cnVlKTtcbiAgICAgIGF3YWl0IHVuemlwRmlsZShwYXRoLnJlc29sdmUobW9ja0RpciwgJ0Zha2VJT1NBcHAuYXBwLnppcCcpKTtcbiAgICAgIGF3YWl0IGZzLnJlYWRGaWxlKHBhdGgucmVzb2x2ZShtb2NrRGlyLCAnRmFrZUlPU0FwcC5hcHAnKSwgJ3V0ZjgnKS5zaG91bGQuZXZlbnR1YWxseS5kZWVwLmVxdWFsKCd0aGlzIGlzIG5vdCByZWFsbHkgYW4gYXBwXFxuJyk7XG4gICAgICBmb3JjZVdpbmRvd3MucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnI3JlbmFtZUtleScsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZSBrZXkgaW4gYW4gb2JqZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgcmVuYW1lS2V5KHsnZm9vJzogJ2hlbGxvIHdvcmxkJ30sICdmb28nLCAnYmFyJykuc2hvdWxkLmVxbCh7J2Jhcic6ICdoZWxsbyB3b3JsZCd9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHRyYW5zbGF0ZSBrZXkgaW4gYW4gb2JqZWN0IHdpdGhpbiBhbiBvYmplY3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZW5hbWVLZXkoeydrZXknOiB7J2Zvbyc6ICdoZWxsbyB3b3JsZCd9fSwgJ2ZvbycsICdiYXInKS5zaG91bGQuZXFsKHsna2V5JzogeydiYXInOiAnaGVsbG8gd29ybGQnfX0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgdHJhbnNsYXRlIGtleSBpbiBhbiBvYmplY3Qgd2l0aCBhbiBhcnJheScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlbmFtZUtleShbXG4gICAgICAgIHsna2V5Jzogeydmb28nOiAnaGVsbG8gd29ybGQnfX0sXG4gICAgICAgIHsnZm9vJzogJ0hFTExPIFdPUkxEJ31cbiAgICAgIF0sICdmb28nLCAnYmFyJykuc2hvdWxkLmVxbChbXG4gICAgICAgIHsna2V5JzogeydiYXInOiAnaGVsbG8gd29ybGQnfX0sXG4gICAgICAgIHsnYmFyJzogJ0hFTExPIFdPUkxEJ31cbiAgICAgIF0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgbm90IGRvIGFueXRoaW5nIHRvIHByaW1pdGl2ZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBbMCwgMSwgLTEsIHRydWUsIGZhbHNlLCBudWxsLCB1bmRlZmluZWQsIFwiXCIsIFwiSGVsbG8gV29ybGRcIl0uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBzaG91bGQuZXF1YWwocmVuYW1lS2V5KGl0ZW0pLCBpdGVtKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGl0KCdzaG91bGQgcmVuYW1lIGtleXMgb24gYmlnIGNvbXBsZXggb2JqZWN0cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGlucHV0ID0gW1xuICAgICAgICB7J2Zvbyc6ICdiYXInfSxcbiAgICAgICAge1xuICAgICAgICAgIGhlbGxvOiB7XG4gICAgICAgICAgICB3b3JsZDoge1xuICAgICAgICAgICAgICAnZm9vJzogJ0JBUicsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb286ICdiYWhyJ1xuICAgICAgICB9LFxuICAgICAgICAnZm9vJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMFxuICAgICAgXTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkT3V0cHV0ID0gW1xuICAgICAgICB7J0ZPTyc6ICdiYXInfSxcbiAgICAgICAge1xuICAgICAgICAgIGhlbGxvOiB7XG4gICAgICAgICAgICB3b3JsZDoge1xuICAgICAgICAgICAgICAnRk9PJzogJ0JBUicsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBGT086ICdiYWhyJ1xuICAgICAgICB9LFxuICAgICAgICAnZm9vJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMFxuICAgICAgXTtcbiAgICAgIHJlbmFtZUtleShpbnB1dCwgJ2ZvbycsICdGT08nKS5zaG91bGQuZGVlcC5lcXVhbChleHBlY3RlZE91dHB1dCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
